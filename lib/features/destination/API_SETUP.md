# Настройка API для городов

## Конфигурация

Для подключения к API городов необходимо:

1. **Обновить URL в конфигурации**:
   - Откройте файл `lib/config/api_config.dart`
   - Замените `https://your-api-domain.com` на реальный URL вашего API

2. **Настроить Dio** (если нужно):
   - Добавьте базовые настройки в `main.dart` или создайте отдельный сервис
   - Настройте таймауты, заголовки, интерцепторы

## API Endpoints

### Получение городов для отправки
```
GET /api/vl/delivery/cities/from
```

### Получение городов для доставки
```
GET /api/vl/delivery/cities/to
```

## Формат ответа

```json
{
  "data": [
    {
      "county": "Казахстан",
      "createdAt": "2023-01-01T00:00:00Z",
      "id": 1,
      "name": "Астана",
      "routesFrom": [...],
      "routesTo": [...],
      "updatedAt": "2023-01-01T00:00:00Z"
    }
  ]
}
```

## Обработка ошибок

Приложение автоматически обрабатывает:
- Ошибки сети (таймауты, отсутствие соединения)
- Ошибки сервера (4xx, 5xx)
- Неожиданные ошибки

В случае ошибки API приложение использует fallback данные (статические города).

## Состояния UI

1. **Загрузка**: Показывается индикатор загрузки
2. **Успех**: Отображается список городов с поиском
3. **Ошибка**: Показывается сообщение об ошибке с кнопкой "Повторить"
4. **Пустой результат**: Сообщение "Города не найдены"

## Тестирование

Для тестирования без реального API:
1. Оставьте URL как `https://your-api-domain.com`
2. Приложение автоматически переключится на fallback данные
3. Все функции (поиск, фильтрация) будут работать с тестовыми данными
