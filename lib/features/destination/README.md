# Destination Feature Architecture

## Обзор
Этот модуль реализует функциональность выбора адресов отправки и доставки посылок.

## Структура файлов

### Модели данных
- `models/address_model.dart` - модель адреса с городом и детальным адресом
- `models/city_model.dart` - модель города с ID, названием и регионом

### Экраны
- `presentation/choose_city_page.dart` - экран выбора города с поиском
- `presentation/choose_address_page.dart` - экран выбора адреса в выбранном городе

## Поток навигации

1. **HomePage** → нажатие "Отправить посылку?" → **SendPackageBottomSheet**
2. **SendPackageBottomSheet** → нажатие "Откуда?" → **ChooseCityPage**
3. **ChooseCityPage** → выбор города → **ChooseAddressPage**
4. **ChooseAddressPage** → выбор адреса → возврат в **SendPackageBottomSheet**
5. **SendPackageBottomSheet** → нажатие "Куда?" → повторение шагов 2-4
6. **SendPackageBottomSheet** → кнопка "Продолжить" (активна только при выборе обоих адресов)

## Особенности реализации

### Состояние
- `SendPackageBottomSheet` хранит выбранные адреса в `_fromAddress` и `_toAddress`
- Кнопка "Продолжить" активна только когда выбраны оба адреса

### Навигация
- Используется `Navigator.push` с возвратом результата
- Каждый экран возвращает выбранные данные через `Navigator.pop(context, data)`

### UI/UX
- Консистентный дизайн с закругленными углами и серой цветовой схемой
- Поиск по городам и адресам
- Визуальная индикация выбранных адресов
- Подсказки и популярные адреса

## Расширение функциональности

### API интеграция
- Заменить статические списки городов на загрузку из API
- Добавить геокодирование для поиска адресов
- Кэширование популярных адресов

### Дополнительные возможности
- Сохранение истории выбранных адресов
- Избранные адреса
- Автодополнение при вводе адреса
- Интеграция с картами для выбора точки на карте
